import{k as q,u as C,r as t,j as s,D as P,S as F,L as E,C as k,B as p}from"./index-BvEyhJvC.js";import{b as L,d as B,a as T,f as z}from"./recruitmentApi-Bm-QUMlW.js";/* empty css                         */function M(){const{posting_id:r,applicant_email:l}=q(),h=C(),[I,b]=t.useState(new Date),[n,f]=t.useState(null),[N,v]=t.useState([]),[g,y]=t.useState(""),[w,A]=t.useState(""),[_,D]=t.useState(""),[j,S]=t.useState(!1);return t.useEffect(()=>{j||(async()=>{try{const[a,o,d,m]=await Promise.all([L(r,l),B(r,l),T(r),z()]);if(a.length>0){const c=a[0];f(c);const u=m.find(x=>x.id.toString()===r);y(u?u.position:"알 수 없음");const i=d.find(x=>x.applicant_email===l);A((i==null?void 0:i.applicant_name)||"알 수 없음"),D((i==null?void 0:i.applicant_phone_number)||"알 수 없음")}v(o),S(!0)}catch(a){alert("아직 자소서를 분석 중입니다."),h("/admin/recruitment"),console.error("Error fetching applicant data:",a)}})()},[r,l,j]),t.useEffect(()=>{let e;const a=()=>{b(new Date),e=requestAnimationFrame(a)};return e=requestAnimationFrame(a),()=>cancelAnimationFrame(e)},[]),n?s.jsx(F,{children:s.jsxs(E,{children:[s.jsxs("div",{className:"flex flex-row justify-between mb-4",children:[s.jsxs("h2",{children:[s.jsx("span",{className:"text-[#8a8686]",children:"메인 > 채용 관리 >"})," ",s.jsx("span",{className:"font-semibold text-[#20243f]",children:"자소서 AI 분석 결과"})]}),s.jsxs("h2",{className:"flex",children:[s.jsx("span",{children:s.jsx(k,{className:"text-gray-500 h-[20px]"})}),s.jsx("span",{className:"text-gray-500 ml-2 text-[14px]",children:"업무 외 개인정보 이용 금지"})]})]}),s.jsx("div",{className:" bg-white overflow-y-auto hide-scrollbar h-[770px] shadow rounded-lg",children:s.jsx("div",{className:"my-4 mr-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[s.jsx("div",{className:"mb-1 font-semibold",children:s.jsx("p",{className:"",children:`${g} 부문`})}),s.jsx("div",{className:"flex items-center pb-8 border-b border-gray-200 mb-4 text-sm text-gray-500",children:s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"flex",children:[s.jsx("p",{className:"w-[70px]",children:"지원자명 :"}),w]}),s.jsxs("div",{className:"flex",children:[s.jsx("p",{className:"w-[70px]",children:"이메일 :"}),l]}),s.jsxs("div",{className:"flex",children:[s.jsx("p",{className:"w-[70px]",children:"휴대전화 :"}),_]})]})}),s.jsxs("div",{className:"flex flex-col py-4 mb-4",children:[s.jsxs("div",{className:"pb-6 border-b mb-6",children:[s.jsx("div",{className:"mb-2 text-sm font-semibold",children:"핵심 키워드"}),s.jsxs("div",{className:"border-gray-400 p-1 rounded-lg ",children:[s.jsxs("div",{className:"mb-1",children:[s.jsx("div",{className:"text-xs mb-1 font-semibold",children:"기술"}),s.jsx("div",{children:n.techs?n.techs.map(e=>s.jsx(p,{text:e,size:"sm",onClick:()=>{},addClass:"cursor-default mr-2 mb-1"},e)):"기술 키워드가 없습니다"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs mb-1 font-semibold",children:"직무"}),s.jsx("div",{children:n.jobs?n.jobs.map(e=>s.jsx(p,{text:e,size:"sm",onClick:()=>{},addClass:"cursor-default mr-2 mb-1"},e)):"직무 키워드가 없습니다"})]})]})]}),n.questions?n.questions.map(e=>{var d,m;const a=(d=N.find(c=>c.question_id===e.question_id))==null?void 0:d.answer,o=(m=n.summarys.find(c=>c.question===e.question_id))==null?void 0:m.summary;return s.jsxs("div",{className:"pb-8 mb-8 border-b border-gray-200",children:[s.jsxs("div",{className:"mb-6 font-semibold",children:[s.jsxs("span",{children:[e.question_id,". "]}),s.jsx("span",{children:e.content})]}),s.jsxs("div",{className:"pb-8 ",children:[s.jsx("div",{className:"mb-2 text-sm font-semibold",children:"요약 내용"}),s.jsx("div",{className:"text-sm border border-gray-200 rounded-lg p-4 ",children:s.jsx("p",{children:o||"요약 내용이 없습니다"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"mb-2 flex items-center",children:[s.jsx("div",{className:"text-sm font-semibold mr-2",children:"맞춤법 검사 결과"}),s.jsxs("p",{className:"text-secondary text-xs font-semibold",children:["교정 ",e.wrong_num,"건"]})]}),s.jsx("div",{className:"text-sm border border-gray-200 p-4 rounded-lg",dangerouslySetInnerHTML:{__html:e.spelling}}),s.jsx("div",{className:"flex justify-end mt-1",children:s.jsx("div",{className:"text-xs text-gray-500",children:"※ 파란색 : 띄어쓰기 오류, 빨간색 : 맞춤법 오류, 초록색 : 표준어 의심, 주황색 : 통계적 오류를 뜻힙니다."})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"mb-2 flex items-center",children:s.jsx("div",{className:"text-sm font-semibold mr-2",children:"답변 원본"})}),s.jsx("div",{className:"text-sm border border-gray-200 p-4 rounded-lg",children:a||"답변이 없습니다"})]})]},e.question_id)}):""]}),s.jsx("div",{className:"flex justify-center pt-5 pb-10",children:s.jsx(p,{text:"목록으로",onClick:()=>h("/admin/recruitment")})})]})})})]})}):s.jsx(P,{})}export{M as default};
