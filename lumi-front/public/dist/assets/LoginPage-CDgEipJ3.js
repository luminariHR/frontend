import{u as h,r as a,b as f,l as g,j as t,f as b,h as w}from"./index-BvEyhJvC.js";const j="/assets/loginbackground-BsiLYEy4.jpg";function k(){const c=h(),[r,i]=a.useState(""),[o,d]=a.useState(""),[n,s]=a.useState(""),[v,x]=f(g),l=async()=>{s("");try{const e=await b.post("https://dev.luminari.kro.kr/api/v1/token/",{email:r,password:o},{headers:{"Content-Type":"application/json"},withCredentials:!0});if(e.status===200){const m=e.data.access;localStorage.setItem("access_token",m),localStorage.setItem("refresh_token",e.data.refresh);const u=await w();x(u),c("/dashboard")}else console.error("Error:",e.data),s("로그인에 실패했습니다. 이메일과 비밀번호를 확인하세요.")}catch(e){e.response?(console.error("Error response:",e.response.data),s("로그인에 실패했습니다. 이메일과 비밀번호를 확인하세요.")):(console.error("Network Error:",e),s("네트워크 오류가 발생했습니다."))}},p=e=>{e.key==="Enter"&&(e.preventDefault(),l())};return t.jsx(t.Fragment,{children:t.jsx("form",{onKeyDown:p,children:t.jsx("div",{className:"h-screen w-full bg-cover bg-center flex items-center justify-center ",style:{backgroundImage:`url(${j})`},children:t.jsxs("div",{className:`bg-transparent absolute mt-10 px-10 py-20 rounded-xl border-[1px] border-[#cdcdcd] w-full \r
      max-w-md mx-auto flex flex-col items-center backdrop-blur-lg shadow-xl`,children:[t.jsx("h1",{className:"text-3xl font-bold mb-4 text-white",children:"로그인"}),t.jsx("p",{className:"font-medium text-md text-white mt-2",children:"시작하려면 이메일을 입력하세요"}),n&&t.jsx("div",{className:"mb-4 text-red-500",children:n}),t.jsxs("div",{className:"flex flex-col items-center mt-4",children:[t.jsx("input",{type:"email",placeholder:"이메일",value:r,onChange:e=>i(e.target.value),className:"bg-transparent mb-4 p-2 border rounded-[100px] w-[350px] text-white placeholder:text-white px-4"}),t.jsx("input",{type:"password",placeholder:"비밀번호",value:o,onChange:e=>d(e.target.value),className:`bg-transparent mb-4 p-2 border rounded-[100px]\r
             w-[350px] text-white placeholder:text-white px-4`})]}),t.jsx("div",{className:"mt-8 flex flex-col gap-y-4",children:t.jsx("button",{type:"button",className:`active:duration-75 hover:scale-[1.01] ease-in-out transition-all sacle-[.98]\r
            py-3 rounded-[100px] bg-[#ffffff] text-black text-lg font-bold px-[100px] w-[350px] h-12`,onClick:l,children:"로그인"})}),t.jsx("div",{className:"mt-8 flex justify-between items-center"})]})})})})}export{k as default};
