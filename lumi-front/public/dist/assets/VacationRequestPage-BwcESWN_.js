import{r as a,u as g,j as e,S as b,L as y,C as w,_ as N}from"./index-BvEyhJvC.js";/* empty css                         */import{S as t}from"./pill-DWlxmmr_.js";import{T as S,a as D,b as d,c as n,d as _,e as r}from"./table-D9qS8Jup.js";import{c as R}from"./ptoApi-B4Hepo3o.js";import{v as T}from"./vacation-C6UYX8Dg.js";function k(){const[i,o]=a.useState([]);a.useState(!1);const[l,x]=a.useState(!0),[u,C]=a.useState(null),j=g(),h=s=>{j(`/vacation/details/${s}`)},f=(s,c)=>{const m=new Date(s),v=(new Date(c)-m)/(1e3*60*60*24);return Math.round(v)},p=s=>{switch(s){case"approved":return e.jsx(t,{status:"success",size:"sm",text:"승인"});case"pending":return e.jsx(t,{status:"pending",size:"sm",text:"검토 중"});case"rejected":return e.jsx(t,{status:"alert",size:"sm",text:"반려"});default:return e.jsx(t,{status:"default",size:"sm",text:"알 수 없음"})}};return a.useEffect(()=>{(async()=>{const c=await R();o(c),x(!1)})()},[u]),e.jsx(b,{children:e.jsxs(y,{children:[e.jsxs("div",{className:"flex flex-row justify-between mb-4",children:[e.jsxs("h2",{children:[e.jsx("span",{className:"text-[#8a8686]",children:"메인 > 근태 관리 >"})," ",e.jsx("span",{className:"font-semibold text-[#20243f]",children:"휴가 신청 관리"})]}),e.jsxs("h2",{className:"flex",children:[e.jsx("span",{children:e.jsx(w,{className:"text-gray-500 h-[20px]"})}),e.jsx("span",{className:"text-gray-500 ml-2 text-[14px]",children:"업무 외 개인정보 이용 금지"})]})]}),e.jsx("div",{className:"mx-16",children:e.jsx("div",{className:"transition duration-300 ease-in-out",children:e.jsx("div",{className:"overflow-auto rounded-lg",children:l?e.jsx("div",{className:"flex w-full justify-center items-center m-auto w-1/2 p-8",children:e.jsx(N,{color:"#5d5bd4",loading:l,size:50,"aria-label":"Loading Spinner","data-testid":"loader"})}):e.jsxs(S,{children:[e.jsx(D,{children:e.jsxs(d,{children:[e.jsx(n,{children:"상태"}),e.jsx(n,{children:"휴가 유형"}),e.jsx(n,{children:"신청자"}),e.jsx(n,{children:"기간"})]})}),e.jsx(_,{children:i.map(s=>e.jsxs(d,{addClass:"hover:bg-gray-100 cursor-pointer",onClick:()=>h(s.id),children:[e.jsx(r,{children:p(s.status)}),e.jsx(r,{children:T[s.pto_type]}),e.jsx(r,{children:s.employee.name}),e.jsxs(r,{children:[e.jsx("span",{children:s.start_date?s.start_date:"-"}),e.jsx("span",{children:" ~ "}),e.jsx("span",{children:s.end_date?s.start_date:"-"}),e.jsx("span",{children:` (${f(s.start_date,s.end_date)+1}일)`})]})]},s.id))})]})})})})]})})}export{k as default};
