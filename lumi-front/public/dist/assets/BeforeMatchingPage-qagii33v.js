import{y as g,j as e,U as p,a as x,r,S as K,L as Q,C as T}from"./index-BvEyhJvC.js";import{L}from"./locate-fixed-vtHYTfcW.js";/**
 * @license lucide-react v0.401.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=g("ChevronsLeftRight",[["path",{d:"m9 7-5 5 5 5",key:"j5w590"}],["path",{d:"m15 7 5 5-5 5",key:"1bl6da"}]]);/**
 * @license lucide-react v0.401.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=g("LandPlot",[["path",{d:"m12 8 6-3-6-3v10",key:"mvpnpy"}],["path",{d:"m8 11.99-5.5 3.14a1 1 0 0 0 0 1.74l8.5 4.86a2 2 0 0 0 2 0l8.5-4.86a1 1 0 0 0 0-1.74L16 12",key:"ek95tt"}],["path",{d:"m6.49 12.85 11.02 6.3",key:"1kt42w"}],["path",{d:"M17.51 12.85 6.5 19.15",key:"v55bdg"}]]);/**
 * @license lucide-react v0.401.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=g("SmilePlus",[["path",{d:"M22 11v1a10 10 0 1 1-9-10",key:"ew0xw9"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}],["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}]]),W=({tabs:t,currentTab:o,setCurrentTab:m})=>e.jsx("div",{className:"flex border-b",children:t.map((f,h)=>e.jsx("button",{className:`p-4 ${o===h?"border-b-2 border-[#5b5ddd] font-bold":"text-gray-500"}`,onClick:()=>m(h),children:f},h))}),X=({isOpen:t,onClose:o,recommendations:m,mentee_Id:f})=>{const h=async n=>{const j=new Date,b=new Date;b.setDate(j.getDate()+30);const y={mentee_employee_id:f,mentor_employee_id:n,start_date:j.toISOString().split("T")[0],end_date:b.toISOString().split("T")[0]};try{const d=await x.post("/admin/mentorship/matches/",y);d.status===200||d.status===201?(alert("매칭이 완료되었습니다."),o()):alert("서버 응답 오류")}catch{console.error("Error:",{matchData:y}),alert("매칭 중 오류가 발생했습니다.")}};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center transition-opacity duration-300 ease-in-out z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-4xl shadow-lg transform transition-transform duration-300 ease-in-out",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#333]",children:"멘토 추천 목록"}),e.jsx("button",{onClick:o,className:"px-4 py-2 bg-[#6f6ed3] text-white font-semibold rounded-full hover:bg-[#5756c3] transition-colors duration-300",children:"닫기"})]}),e.jsx("ul",{className:"flex flex-col space-y-4 overflow-y-auto max-h-80",children:m.map(n=>e.jsxs("li",{className:"border border-gray-200 bg-white rounded-xl p-4 flex items-center space-x-4 hover:shadow-md transition-shadow duration-300",children:[e.jsx("div",{className:"w-16 h-16",children:e.jsx(p,{userProfileImg:n.profile_img,userName:n.mentor_name})}),e.jsxs("div",{className:"flex flex-col flex-grow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("div",{className:"font-semibold text-lg text-[#333]",children:n.mentor_name}),e.jsxs("div",{className:"text-sm font-bold text-[#0e0e2c]",children:[" ",n.score," 점"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-sm text-[#666]",children:n.recommendation_reason}),e.jsx("button",{onClick:()=>h(n.ID),className:"border border-[#0e0e2c] text-[#0e0e2c] font-semibold rounded-lg px-4 py-1 hover:bg-[#5b5dbb] hover:text-white whitespace-nowrap transition-colors duration-300",children:"매칭"})]})]})]},n.ID))})]})}):null},Y=({currentTab:t})=>{const[o,m]=r.useState([]),[f,h]=r.useState([]),[n,j]=r.useState([]),[b,y]=r.useState([]),[d,v]=r.useState(""),[D,l]=r.useState(!0),[k,c]=r.useState(null),[u,O]=r.useState(null),[U,z]=r.useState([]),[A,_]=r.useState(!1),[C,E]=r.useState([]);r.useEffect(()=>{c(null),t===0?R():t===1?$():t===2?B():t===3&&N()},[t]);const R=async()=>{try{l(!0);const s=await x.get("/admin/mentorship/matches/");j(s.data)}catch{c("매치 목록을 불러오는 중 오류가 발생했습니다.")}finally{l(!1)}},$=async()=>{try{l(!0);const s=await x.get("/admin/mentorship/mentors/");m(s.data)}catch{c("멘토 목록을 불러오는 중 오류가 발생했습니다.")}finally{l(!1)}},B=async()=>{try{l(!0);const s=await x.get("/admin/mentorship/mentees/");h(s.data)}catch{c("멘티 목록을 불러오는 중 오류가 발생했습니다.")}finally{l(!1)}},N=async()=>{try{l(!0);const s=await x.get("/admin/mentorship/available/");y(s.data)}catch{c("추가되지 않은 사용자 목록을 불러오는 중 오류가 발생했습니다.")}finally{l(!1)}},F=async s=>{try{l(!0);const a=await x.get(`/admin/mentorship/recommendations/?mentee_id=${s}`);z(a.data.recommendations),_(!0)}catch(a){a.response?c(`추천 멘토를 불러오는 중 오류가 발생했습니다 상태 코드: ${a.response.status}, 유저코드가 틀린거같을때 :${s}`):c("네트워크 오류가 발생했습니다")}finally{l(!1)}},q=async s=>{try{l(!0);const a=await x.get(`/admin/mentorship/matches/${s}/sessions`);E(a.data)}catch{c("세션 데이터를 불러오는 중 오류가 발생했습니다.")}finally{l(!1)}},G=async s=>{try{l(!0),await x.post("/admin/mentorship/mentors/",{new_candidate_id:s})}catch{c("멘토로 추가하는 중 오류가 발생했습니다.")}finally{l(!1)}},H=async s=>{try{l(!0),await x.post("/admin/mentorship/mentees/",{new_candidate_id:s})}catch{c("멘티로 추가하는 중 오류가 발생했습니다.")}finally{l(!1)}},J=b.filter(s=>s.name.toLowerCase().includes(d.toLowerCase())||s.email.toLowerCase().includes(d.toLowerCase())),M=(s=>s.reduce((a,i)=>{const w=i.department||"부서 없음";return a[w]||(a[w]=[]),a[w].push(i),a},{}))(J),S=n.filter(s=>s.mentor.name.toLowerCase().includes(d.toLowerCase())||s.mentee.name.toLowerCase().includes(d.toLowerCase()));return D?e.jsx("div",{children:"로딩 중..."}):k?e.jsx("div",{children:k}):e.jsxs("div",{children:[t===0&&e.jsxs("div",{children:[e.jsx("h2",{children:"매칭 목록"}),e.jsx("input",{type:"text",placeholder:"멘토 또는 멘티 이름 검색",value:d,onChange:s=>v(s.target.value),className:"mb-4 p-2 border-2 border-gray-300 rounded-md"}),S.length===0?e.jsx("div",{children:"매칭이 없습니다."}):e.jsx("div",{className:"flex flex-wrap flex-row w-full h-[350px] justify-center overflow-auto",children:S.map(s=>e.jsxs("div",{className:"mt-20 flex flex-row",children:[e.jsxs("div",{className:"m-2 flex flex-col",children:[e.jsx("div",{className:"border-2 border-[#0e0f2c] bg-[#6778f8] w-[150px] h-[50px] mb-4 rounded-xl text-white flex items-center justify-center",children:e.jsx("h2",{className:"font-bold text-2xl",children:"Mentor"})}),e.jsxs("div",{className:"h-[150px] w-[300px] bg-white flex flex-col items-center rounded-xl border-2 border-black",children:[e.jsx("div",{className:"w-16 h-16 mt-2",children:e.jsx(p,{userProfileImg:s.mentor.profile_image,userName:s.mentor.name,size:"50px"})}),e.jsx("div",{className:"text-gray-400 text-xs mt-2",children:s.mentor.email}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("span",{className:"text-[#0e1222] text-[20px] font-bold",children:["멘토 : ",s.mentor.name||"이름 없음"]}),e.jsx("span",{className:"mx-2 bg-[#5b5dbb] p-1 text-white text-xs font-semibold rounded-md",children:s.mentor.job_title||"직책 없음"})]})]})]}),e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx(V,{className:"h-16 w-16"}),e.jsx("h2",{className:"font-bold text-[16px] mt-2 ",children:"매칭완료"})]}),e.jsxs("div",{className:"m-2 flex flex-col items-end",children:[e.jsxs("div",{className:"h-[150px] w-[300px] bg-white flex flex-col items-center rounded-xl border-2 border-black",children:[e.jsx("div",{className:"w-16 h-16 mt-2",children:e.jsx(p,{userProfileImg:s.mentee.profile_image,userName:s.mentee.name,size:"50px"})}),e.jsx("div",{className:"text-gray-400 text-xs mt-2",children:s.mentee.email}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("span",{className:"text-[#0e1222] text-[20px] font-bold",children:[" 멘티 : ",s.mentee.name||"이름 없음"]}),e.jsx("span",{className:"mx-2 bg-[#5b5dbb] p-1 text-white text-xs font-semibold rounded-md",children:s.mentee.job_title||"직책 없음"})]})]}),e.jsx("div",{className:"border-2 border-[#0e0f2c] bg-[#02C860] w-[150px] h-[50px] mt-4 rounded-xl text-[#0e0f2c] flex items-center justify-center",children:e.jsx("h2",{className:"font-bold text-2xl",children:"Mentee"})})]}),e.jsx("button",{className:"h-[50px] bg-[#f8f8ff] mt-2 rounded-md px-4 py-2 text-black font-bold border-2 border-black hover:bg-[#5b5dbb] hover:text-white",onClick:()=>q(s.id),children:"세션 관리"})]},s.id))})]}),C.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"세션 목록"}),e.jsx("div",{className:"flex flex-wrap gap-4",children:C.map(s=>e.jsx("div",{className:"border-4 border-gray-300 rounded-xl bg-white shadow-md p-4 w-[300px]",children:e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"text-xl font-bold",children:s.date}),e.jsxs("div",{className:"text-gray-600",children:[s.start_time," - ",s.end_time]}),e.jsx("div",{className:"mt-2",children:s.note})]})},s.id))})]}),t===1&&e.jsxs("div",{children:[e.jsx("h2",{children:"멘토 목록"}),o.length===0?e.jsx("div",{children:"멘토가 없습니다."}):e.jsx("div",{className:"flex flex-wrap flex-row w-full justify-center",children:o.map(s=>e.jsxs("div",{className:"m-2 border-4 border-gray-300",children:[e.jsxs("div",{className:` h-[150px] w-[300px] bg-white \r
                                flex flex-col items-center`,children:[e.jsx("div",{className:"w-16 h-16 mt-2",children:e.jsx(p,{userProfileImg:s.employee.profile_image,userName:s.employee.name,size:"50px"})}),e.jsx("div",{className:"text-gray-400 text-xs mt-2",children:s.employee.email}),e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"text-[#0e1222] text-[20px] font-bold",children:s.employee.name||"이름 없음"}),e.jsx("span",{className:"mx-2 bg-[#5b5dbb] p-1 text-white text-xs font-semibold rounded-md",children:s.employee.job_title||"직책 없음"})]})]}),e.jsxs("div",{className:` h-[180px] w-[300px] bg-gray-100 \r
                                flex flex-col items-center`,children:[e.jsx("div",{className:"bg-white w-[250px] h-[40px] mt-4",children:e.jsxs("h2",{className:"h-full flex flex-row items-center justify-start",children:[e.jsx("span",{className:"text-gray-400 ml-1",children:e.jsx(L,{})}),e.jsx("span",{className:"text-center ml-6 font-bold",children:s.employee.location||"주소 없음"})]})}),e.jsx("div",{className:"bg-white w-[250px] h-[40px] mt-2",children:e.jsxs("h2",{className:"h-full flex flex-row items-center justify-start",children:[e.jsx("span",{className:"text-gray-400 ml-1",children:e.jsx(I,{})}),e.jsx("span",{className:"text-center ml-6 font-bold",children:s.employee.hobby||"취미 없음"})]})}),e.jsx("div",{className:"bg-white w-[250px] h-[40px] mt-2",children:e.jsxs("h2",{className:"h-full flex flex-row items-center justify-start",children:[e.jsx("span",{className:"text-gray-400 ml-1",children:e.jsx(P,{})}),e.jsx("span",{className:"text-center ml-6 font-bold",children:s.employee.mbti||"정보 없음"})]})})]})]}))})]}),t===2&&e.jsxs("div",{children:[e.jsx("h2",{children:"멘티 목록"}),f.length===0?e.jsx("div",{children:"멘티가 없습니다."}):e.jsx("div",{className:"flex flex-wrap flex-row w-full justify-center",children:f.map(s=>e.jsxs("div",{className:"m-2 border-4 border-gray-300",children:[e.jsxs("div",{className:` h-[150px] w-[300px] bg-white \r
                            flex flex-col items-center`,children:[e.jsx("div",{className:"w-16 h-16 mt-2",children:e.jsx(p,{userProfileImg:s.employee.profile_image,userName:s.employee.name,size:"50px"})}),e.jsx("div",{className:"text-gray-400 text-xs mt-2",children:s.employee.email}),e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"text-[#0e1222] text-[20px] font-bold",children:s.employee.name||"이름 없음"}),e.jsx("span",{className:"mx-2 bg-[#5b5dbb] p-1 text-white text-xs font-semibold rounded-md",children:s.employee.job_title||"직책 없음"})]})]}),e.jsxs("div",{className:` h-[250px] w-[300px] bg-gray-100 \r
                            flex flex-col items-center`,children:[e.jsx("div",{className:"bg-white w-[250px] h-[40px] mt-4",children:e.jsxs("h2",{className:"h-full flex flex-row items-center justify-start",children:[e.jsx("span",{className:"text-gray-400 ml-1",children:e.jsx(L,{})}),e.jsx("span",{className:"text-center ml-6 font-bold",children:s.employee.location||"주소 없음"})]})}),e.jsx("div",{className:"bg-white w-[250px] h-[40px] mt-2",children:e.jsxs("h2",{className:"h-full flex flex-row items-center justify-start",children:[e.jsx("span",{className:"text-gray-400 ml-1",children:e.jsx(I,{})}),e.jsx("span",{className:"text-center ml-6 font-bold",children:s.employee.hobby||"취미 없음"})]})}),e.jsx("div",{className:"bg-white w-[250px] h-[40px] mt-2",children:e.jsxs("h2",{className:"h-full flex flex-row items-center justify-start",children:[e.jsx("span",{className:"text-gray-400 ml-1",children:e.jsx(P,{})}),e.jsx("span",{className:"text-center ml-6 font-bold",children:s.employee.mbti||"정보 없음"})]})}),e.jsx("button",{className:"bg-white w-[250px] h-[40px] mt-8 border border-[#5b5dbb] text-[#5b5dbb]",onClick:()=>{O(s),F(s.employee.id)},children:"멘토 추천받기"},s.employee.id)]})]}))})]}),t===3&&e.jsxs("div",{children:[e.jsxs("h2",{className:"mb-4",children:["매칭 대기중인 직원 목록",e.jsx("input",{type:"text",placeholder:"직원 검색...",value:d,onChange:s=>v(s.target.value),className:"ml-4 p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:[ring-blue-500]"})]}),Object.keys(M).length===0?e.jsx("div",{children:"추가되지 않은 사용자가 없습니다."}):Object.entries(M).map(([s,a])=>e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:s}),e.jsx("div",{className:"flex flex-wrap gap-4",children:a.map(i=>e.jsxs("div",{className:"border-4 border-gray-300 rounded-xl bg-white shadow-md p-4 flex flex-col items-center w-[300px] whitespace-nowrap ",children:[e.jsx("div",{className:"w-16 h-16 mb-4",children:e.jsx(p,{userProfileImg:i.profile_image,userName:i.name,size:"50px"})}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"text-gray-600",children:i.email}),e.jsx("div",{className:"text-xl font-bold",children:i.name||"이름 없음"}),e.jsx("div",{className:"text-gray-600",children:i.job_title||"직책 없음"})]}),e.jsx("div",{className:"flex flex-col items-center w-full",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:async()=>{await G(i.id),await N()},className:"px-4 py-2 bg-[#5b5dbb] text-white rounded-lg shadow hover:bg-[#cecff6] hover:text-black",children:"멘토 추가"}),e.jsx("button",{onClick:async()=>{await H(i.id),await N()},className:"px-4 py-2 bg-[#1f984c] text-white rounded-lg shadow hover:bg-[#cef7dd] hover:text-black",children:"멘티 추가"})]})})]},i.id))})]},s))]}),e.jsx(X,{isOpen:A,recommendations:U,mentee_Id:u==null?void 0:u.employee.id,onClose:()=>_(!1)})]})},te=()=>{const[t,o]=r.useState(0),m=["매칭완료","멘토","멘티","매칭 대기"];return e.jsx(K,{children:e.jsxs(Q,{children:[e.jsxs("div",{className:"w-full h-[100px] p-4",children:[e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsxs("h2",{children:[e.jsx("span",{className:"text-[#8a8686]",children:"메인 > 멘토링 >"})," ",e.jsx("span",{className:"font-semibold text-[#20243f]",children:"파트너 관리"})]}),e.jsxs("h2",{className:"flex",children:[e.jsx("span",{children:e.jsx(T,{className:"text-gray-500 h-[20px]"})}),e.jsx("span",{className:"text-gray-500 ml-2 text-[14px]",children:"업무 외 개인정보 이용 금지"})]})]}),e.jsx("div",{className:"flex flex-row justify-between",children:e.jsx("h1",{className:"title text-[24px] font-bold mt-4",children:"파트너 관리"})})]}),e.jsx(W,{tabs:m,currentTab:t,setCurrentTab:o}),e.jsx("div",{className:"p-4",children:e.jsx(Y,{currentTab:t})})]})})};export{te as default};
